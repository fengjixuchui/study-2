
当运行内存需求量较大的应用程序时，如果使用长度为 4KB 的页，将会产生较多的 TLB 未命中和缺页异常，严重影响应用程序的性能。如果使用长度为2MB甚至更大的大页，可以大幅**减少 TLB 未命中**和**缺页异常的数量**，大幅提高应用程序的性能。这正是内核引入大页（Huge Page）的直接原因。

大页首先**需要处理器支持**，然后**需要内核支持**，内核有如下**两种实现方式**。

（1）使用 **hugetlbfs** **伪文件系统**实现大页。

hugetlbfs 文件系统是一个**假的文件系统**，只是**利用了文件系统的编程接口**。

使用 hugetlbfs 文件系统实现的大页称为 **hugetblfs 大页**、**传统大页**或**标准大页**，本书统一称为**标准大页**。

（2）**透明大页**。

**标准大页**的**优点**是**预先分配大页到大页池**，进程申请大页的时候从大页池取，成功的概率很高，**缺点**是应用程序需要**使用文件系统的编程接口**。

透明大页的优点是**对应用程序透明**，缺点是**动态分配**，在**内存碎片化**的时候**分配成功的概率很低**。