
# 什么是 trait

trait 是 Rust 的灵魂. Rust 中所有的抽象, 比如接口抽象、OOP范式抽象、函数式范式抽象等, 均基于 trait 来完成. 同时, trait也保证了这些抽象几乎都是运行时零开销的. 

那么, 到底什么是trait？

从**类型系统**的角度来说, trait是 Rust **对 Ad-hoc 多态的支持**. 

从**语义**上来说, trait是**在行为上对类型的约束**, 这种约束可以让 trait 有如下 4 种用法:

* **接口抽象**. **接口**是对**类型行为**的统一约束. 
* **泛型约束**. **泛型的行为**被 trait 限定在更有限的范围内. 
* **抽象类型**. 在运行时作为一种**间接的抽象类型**去使用, 动态地分发给具体的类型. 
* **标签 trait**. 对类型的约束, 可以直接作为一种“**标签**”使用. 

下面依次介绍trait的这4种用法. 

# 接口抽象



## 关联类型



## trait 一致性



## trait 继承



# 泛型约束


## trait 限定

## 理解 trait 限定

# 抽象类型

## trait 对象



# 标签 trait

## Sized trait

## Copy trait

## Send trait 和 Sync trait